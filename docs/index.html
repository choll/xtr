

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Overview &mdash; XTR Documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> xtr
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Overview</a></li>
<li><a class="reference internal" href="#loggers-and-sinks">Loggers and Sinks</a></li>
<li><a class="reference internal" href="#format-string-syntax">Format String Syntax</a></li>
<li><a class="reference internal" href="#examples">Examples</a></li>
<li><a class="reference internal" href="#passing-arguments-by-value-or-reference">Passing Arguments by Value or Reference</a></li>
<li><a class="reference internal" href="#string-arguments">String Arguments</a></li>
<li><a class="reference internal" href="#thread-safety">Thread Safety</a></li>
<li><a class="reference internal" href="#custom-formatters">Custom Formatters</a></li>
<li><a class="reference internal" href="#time-sources">Time Sources</a><ul>
<li><a class="reference internal" href="#default">Default</a></li>
<li><a class="reference internal" href="#tsc">TSC</a></li>
<li><a class="reference internal" href="#real-time-clock-clock-gettime">Real-time Clock (clock_gettime)</a></li>
<li><a class="reference internal" href="#arbitrary-sources">Arbitrary Sources</a></li>
</ul>
</li>
<li><a class="reference internal" href="#customising-the-time-format">Customising the Time Format</a></li>
<li><a class="reference internal" href="#background-consumer-thread-details">Background Consumer Thread Details</a><ul>
<li><a class="reference internal" href="#lifetime">Lifetime</a></li>
<li><a class="reference internal" href="#cpu-affinity">CPU Affinity</a></li>
</ul>
</li>
<li><a class="reference internal" href="#log-message-sanitizing">Log Message Sanitizing</a></li>
<li><a class="reference internal" href="#custom-back-ends">Custom Back-ends</a></li>
<li><a class="reference internal" href="#api-reference">API Reference</a><ul>
<li><a class="reference internal" href="#log-macros">Log Macros</a></li>
<li><a class="reference internal" href="#logger">Logger</a></li>
<li><a class="reference internal" href="#sink">Sink</a></li>
<li><a class="reference internal" href="#misc">Misc</a></li>
</ul>
</li>
<li><a class="reference internal" href="#xtrctl">xtrctl</a><ul>
<li><a class="reference internal" href="#displaying-the-status-of-sinks">Displaying the Status of Sinks</a></li>
<li><a class="reference internal" href="#setting-log-levels">Setting Log Levels</a></li>
<li><a class="reference internal" href="#rotating-log-files">Rotating Log Files</a></li>
</ul>
</li>
<li><a class="reference internal" href="#log-record-layouts">Log Record Layouts</a></li>
<li><a class="reference internal" href="#index">Index</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">xtr</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
</div>
<div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>XTR is a logging library for C++20 aimed at applications with low-latency or
real-time requirements. It is designed so that the cost of a log statement is
consistently as cheap as possible—i.e. every call is cheap, not just the
average case. No allocations or system calls are made when a log statement is
made.</p>
</div>
<div class="section" id="loggers-and-sinks">
<h1>Loggers and Sinks<a class="headerlink" href="#loggers-and-sinks" title="Permalink to this headline">¶</a></h1>
<p>The XTR API contains two classes; <a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger</span></code></a> and
<a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger::sink</span></code></a>. Sinks each contain a queue <a class="footnote-reference brackets" href="#queue" id="id1">1</a>, and
pass log messages to the associated logger via these queues. Each logger
has a background consumer thread which reads from the sinks that were created from the
logger. The background thread then formats the log message and either writes it
to disk or passes it to a custom back-end if one is in use.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+------+</span>
<span class="o">|</span> <span class="n">Sink</span> <span class="o">|---</span><span class="p">[</span><span class="n">queue</span><span class="p">]</span><span class="o">---+</span>
<span class="o">+------+</span>             <span class="o">|</span>
                     <span class="o">|</span>     <span class="o">+--------+</span>
<span class="o">+------+</span>             <span class="o">+---&gt;</span> <span class="o">|</span>        <span class="o">|</span>     <span class="o">+----------------------------+</span>
<span class="o">|</span> <span class="n">Sink</span> <span class="o">|---</span><span class="p">[</span><span class="n">queue</span><span class="p">]</span><span class="o">-------&gt;</span> <span class="o">|</span> <span class="n">Logger</span> <span class="o">|---&gt;</span> <span class="o">|</span> <span class="n">Back</span><span class="o">-</span><span class="n">end</span><span class="p">;</span> <span class="n">file</span><span class="o">/</span><span class="n">network</span><span class="o">/</span><span class="n">etc</span> <span class="o">|</span>
<span class="o">+------+</span>             <span class="o">+---&gt;</span> <span class="o">|</span>        <span class="o">|</span>     <span class="o">+----------------------------+</span>
                     <span class="o">|</span>     <span class="o">+--------+</span>
<span class="o">+------+</span>             <span class="o">|</span>
<span class="o">|</span> <span class="n">Sink</span> <span class="o">|---</span><span class="p">[</span><span class="n">queue</span><span class="p">]</span><span class="o">---+</span>
<span class="o">+------+</span>
</pre></div>
</div>
<p>An application is expected to use multiple sinks, for example a sink per thread, or
sink per component. To support this sinks have a name associated with them which
is included in the output log message. Sink names do not need to be unique.</p>
<p>Sinks are created by calling <a class="reference internal" href="#_CPPv4N3xtr6logger8get_sinkENSt6stringE" title="xtr::logger::get_sink"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">xtr::logger::get_sink()</span></code></a> or via normal
construction followed by a call to <a class="reference internal" href="#_CPPv4N3xtr6logger13register_sinkER4sinkNSt6stringE" title="xtr::logger::register_sink"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">xtr::logger::register_sink()</span></code></a>.
Once a sink has been created or registered, it may be written to using one of several
log macros which are described <a class="reference internal" href="#macros"><span class="std std-ref">below</span></a>.</p>
</div>
<div class="section" id="format-string-syntax">
<h1>Format String Syntax<a class="headerlink" href="#format-string-syntax" title="Permalink to this headline">¶</a></h1>
<p>XTR uses <a class="reference external" href="https://fmt.dev">{fmt}</a> for formatting, so format strings follow the
same Python <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str.format">str.format</a>
style formatting as found in <cite>{fmt}</cite>, the documentation for which can be found
<a class="reference external" href="https://fmt.dev/latest/syntax.html">here</a>.</p>
</div>
<div class="section" id="examples">
<h1>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h1>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;xtr/logger.hpp&quot;</span><span class="cp"></span>

<span class="n">xtr</span><span class="o">::</span><span class="n">logger</span> <span class="n">log</span><span class="p">;</span>

<span class="k">auto</span> <span class="n">s</span> <span class="o">=</span> <span class="n">log</span><span class="p">.</span><span class="n">get_sink</span><span class="p">(</span><span class="s">&quot;Main&quot;</span><span class="p">);</span>

<span class="n">XTR_LOG</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&quot;Hello world {} {}&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mf">123.456</span><span class="p">);</span>
</pre></div>
</div>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="cp">#include</span> <span class="cpf">&quot;xtr/logger.hpp&quot;</span><span class="cp"></span>

<span class="n">xtr</span><span class="o">::</span><span class="n">logger</span> <span class="n">log</span><span class="p">;</span>

<span class="n">xtr</span><span class="o">::</span><span class="n">logger</span><span class="o">::</span><span class="n">sink</span> <span class="n">s</span><span class="p">;</span>

<span class="n">log</span><span class="p">.</span><span class="n">register_sink</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&quot;Main&quot;</span><span class="p">);</span>

<span class="n">XTR_LOG</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="s">&quot;Hello world {} {}&quot;</span><span class="p">,</span> <span class="mi">123</span><span class="p">,</span> <span class="mf">123.456</span><span class="p">);</span>
</pre></div>
</div>
<p>LINK TO GODBOLT?</p>
<dl class="field-list simple">
<dt class="field-odd">cpp:enum:log_level_t</dt>
<dd class="field-odd"><p></p></dd>
</dl>
</div>
<div class="section" id="passing-arguments-by-value-or-reference">
<span id="copy-val-ref"></span><h1>Passing Arguments by Value or Reference<a class="headerlink" href="#passing-arguments-by-value-or-reference" title="Permalink to this headline">¶</a></h1>
<p>The default behaviour of the logger is to copy format arguments into the
specified sink by value. No allocations will be performed unless an argument type
is passed to the sink which has a copy constructor that allocates, with the exception
of <cite>std::string</cite> (see <a class="reference internal" href="#string-args"><span class="std std-ref">below</span></a> for details). If copying is undesirable then
arguments may be passed by reference by wrapping them in a call to <a class="reference internal" href="#_CPPv4I0EN3xtr6nocopyEDaRK1T" title="xtr::nocopy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">xtr::nocopy()</span></code></a>:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">XTR_LOG</span><span class="p">(</span><span class="n">sink</span><span class="p">,</span> <span class="s">&quot;{}&quot;</span><span class="p">,</span> <span class="n">nocopy</span><span class="p">(</span><span class="n">arg</span><span class="p">));</span>
</pre></div>
</div>
<p>versus copying by value:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">XTR_LOG</span><span class="p">(</span><span class="n">sink</span><span class="p">,</span> <span class="s">&quot;{}&quot;</span><span class="p">,</span> <span class="n">arg</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="string-arguments">
<span id="string-args"></span><h1>String Arguments<a class="headerlink" href="#string-arguments" title="Permalink to this headline">¶</a></h1>
<p>Passing strings to the logger is guaranteed to not allocate memory, and does
not assume anything about the lifetime of the string data. i.e. for the
following log statement:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">XTR_LOG</span><span class="p">(</span><span class="n">sink</span><span class="p">,</span> <span class="s">&quot;{}&quot;</span><span class="p">,</span> <span class="n">str</span><span class="p">);</span>
</pre></div>
</div>
<p>If <cite>str</cite> is a <span class="cpp-expr sig sig-inline cpp"><span class="n">std</span><span class="p">::</span><span class="n">string</span></span>, <span class="cpp-expr sig sig-inline cpp"><span class="n">std</span><span class="p">::</span><span class="n">string_view</span></span>,
<span class="cpp-expr sig sig-inline cpp"><span class="kt">char</span><span class="p">*</span></span> or <span class="cpp-expr sig sig-inline cpp"><span class="kt">char</span><span class="p">[</span><span class="p">]</span></span> then the contents of <cite>str</cite> will be copied
into <cite>sink</cite> without incurring any allocations. String data is copied in order
to provide safe default behaviour regarding the lifetime of the string data. If
copying the string data is undesirable then string arguments may be wrapped in
a call to <a class="reference internal" href="#_CPPv4I0EN3xtr6nocopyEDaRK1T" title="xtr::nocopy"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">xtr::nocopy()</span></code></a>:</p>
<div class="highlight-c++ notranslate"><div class="highlight"><pre><span></span><span class="n">XTR_LOG</span><span class="p">(</span><span class="n">sink</span><span class="p">,</span> <span class="s">&quot;{}&quot;</span><span class="p">,</span> <span class="n">nocopy</span><span class="p">(</span><span class="n">str</span><span class="p">));</span>
</pre></div>
</div>
<p>If this is done then only a pointer to the string data contained in <cite>str</cite> is
copied. The user is then responsible for ensuring that the string data remains
valid long enough for the logger to process the log statement. Note that only
the string data must remain valid—so for <span class="cpp-expr sig sig-inline cpp"><span class="n">std</span><span class="p">::</span><span class="n">string_view</span></span> the
object itself does not need to remain valid, just the data it references.</p>
</div>
<div class="section" id="thread-safety">
<h1>Thread Safety<a class="headerlink" href="#thread-safety" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><ul class="simple">
<li><p>All functions in <a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger</span></code></a> are thread-safe.</p></li>
<li><p>No functions in <a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger::sink</span></code></a> are thread-safe other than
:<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger::level</span></code> and :<code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger::set_level</span></code>.
This is because each thread is expected to have its own independent
sink (or set of sinks).</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="custom-formatters">
<h1>Custom Formatters<a class="headerlink" href="#custom-formatters" title="Permalink to this headline">¶</a></h1>
<p>Custom formatters are implemented the same as in <a class="reference external" href="https://fmt.dev">{fmt}</a>,
which is done either by:</p>
<ul class="simple">
<li><p>Providing a <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">std::stream&amp;</span> <span class="pre">operator&lt;&lt;(std::stream&amp;,</span> <span class="pre">T&amp;)()</span></code> overload.</p></li>
<li><p>Specializing <span class="cpp-expr sig sig-inline cpp"><span class="n">fmt</span><span class="p">::</span><span class="n">formatter</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span></span> and implementing the <cite>parse</cite> and
<cite>format</cite> methods as described by the <cite>{fmt}</cite> documentation
<a class="reference external" href="https://fmt.dev/latest/api.html#formatting-user-defined-types">here</a>.</p></li>
</ul>
</div>
<div class="section" id="time-sources">
<h1>Time Sources<a class="headerlink" href="#time-sources" title="Permalink to this headline">¶</a></h1>
<p>As reading the current time of day can be done in various different ways, with different
trade-offs, XTR supports</p>
<p>XTR supports multiple time-sources when logging messages.</p>
<ul class="simple">
<li><p>Asynchronous-default: The default time-source is to read <cite>std::chrono::system_clock</cite>
<em>in the logger background thread</em>. This is to avoid the expense of reading the clock
at the logging call-site. The trade-off is that this comes with a loss of accuracy
due to the time the log message spends on the queue.</p></li>
<li><p>Asynchronous-custom</p></li>
<li><p>Synchronous-TSC</p></li>
<li><p>Synchronous-Coarse</p></li>
<li><p>Synchronous-Custom</p></li>
</ul>
<div class="section" id="default">
<h2>Default<a class="headerlink" href="#default" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="tsc">
<h2>TSC<a class="headerlink" href="#tsc" title="Permalink to this headline">¶</a></h2>
<p>TSC Calibration</p>
</div>
<div class="section" id="real-time-clock-clock-gettime">
<h2>Real-time Clock (clock_gettime)<a class="headerlink" href="#real-time-clock-clock-gettime" title="Permalink to this headline">¶</a></h2>
<p>XTR_LOG_RTC, XTR_TRY_LOG_RTC</p>
</div>
<div class="section" id="arbitrary-sources">
<h2>Arbitrary Sources<a class="headerlink" href="#arbitrary-sources" title="Permalink to this headline">¶</a></h2>
<p>XTR_LOG_TS,  XTR_TRY_LOG_TS</p>
</div>
</div>
<div class="section" id="customising-the-time-format">
<h1>Customising the Time Format<a class="headerlink" href="#customising-the-time-format" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="background-consumer-thread-details">
<h1>Background Consumer Thread Details<a class="headerlink" href="#background-consumer-thread-details" title="Permalink to this headline">¶</a></h1>
<p>As no system calls are made when a log statement is made, the consumer
thread must spin waiting for input (it cannot block/wait as there would
be no way to signal that doesn’t involve a system call). This is simply
done as a performance/efficiency trade-off; log statements become cheaper
at the cost of the consumer thread being wasteful.</p>
<div class="section" id="lifetime">
<h2>Lifetime<a class="headerlink" href="#lifetime" title="Permalink to this headline">¶</a></h2>
<p>The consumer thread associated with a given logger will terminate only
when the logger and all associated sinks have been destructed, and is
joined by the logger destructor. This means that when the logger
destructs, it will block until all associated sinks have also destructed.</p>
<p>This is done to make using the logger easier—sinks will never lose data
and will never be disconnected from the associated logger unless they are
explicitly disconnected by closing the sink.</p>
</div>
<div class="section" id="cpu-affinity">
<h2>CPU Affinity<a class="headerlink" href="#cpu-affinity" title="Permalink to this headline">¶</a></h2>
<p>To bind the background thread to a specific CPU
<code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">xtr::logger::consumer_thread_native_handle()</span></code> can be used to obtain
the consumer thread’s platform specific thread handle. The handle can then be
used with whatever platform specific functionality is available for setting
thread affinities—for example
<a class="reference external" href="https://www.man7.org/linux/man-pages/man3/pthread_setaffinity_np.3.html">pthread_setaffinity_np(3)</a>
on Linux.</p>
</div>
</div>
<div class="section" id="log-message-sanitizing">
<h1>Log Message Sanitizing<a class="headerlink" href="#log-message-sanitizing" title="Permalink to this headline">¶</a></h1>
<p>STRINGS ARE SANITIZED, PROVIDE CUSTOM FORMATTER TO WRITE BINARY DATA</p>
<p>Strings containing unprintable characters are sanitized</p>
</div>
<div class="section" id="custom-back-ends">
<h1>Custom Back-ends<a class="headerlink" href="#custom-back-ends" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
<div class="section" id="log-macros">
<span id="macros"></span><h2>Log Macros<a class="headerlink" href="#log-macros" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="logger">
<span id="id2"></span><h2>Logger<a class="headerlink" href="#logger" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6loggerE">
<span id="_CPPv3N3xtr6loggerE"></span><span id="_CPPv2N3xtr6loggerE"></span><span id="xtr::logger"></span><span class="target" id="classxtr_1_1logger"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">logger</span></span></span><a class="headerlink" href="#_CPPv4N3xtr6loggerE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6logger8get_sinkENSt6stringE">
<span id="_CPPv3N3xtr6logger8get_sinkENSt6stringE"></span><span id="_CPPv2N3xtr6logger8get_sinkENSt6stringE"></span><span id="xtr::logger::get_sink__ss"></span><span class="target" id="classxtr_1_1logger_1a1f8df984c2ec4f5f765c05a11fdb05e6"></span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">get_sink</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3xtr6logger8get_sinkENSt6stringE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Creates a sink with the specified name. Note that each call to this function creates a new sinkif repeated calls are made with the same name, separate sinks with the name name are created.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>name</strong> – The name for the given sink. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6logger13register_sinkER4sinkNSt6stringE">
<span id="_CPPv3N3xtr6logger13register_sinkER4sinkNSt6stringE"></span><span id="_CPPv2N3xtr6logger13register_sinkER4sinkNSt6stringE"></span><span id="xtr::logger::register_sink__sinkR.ss"></span><span class="target" id="classxtr_1_1logger_1ab9bff842b164da551857f6f5a2fb17bf"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">register_sink</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">s</span></span>, <span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">name</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><a class="headerlink" href="#_CPPv4N3xtr6logger13register_sinkER4sinkNSt6stringE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Registers the sink with the logger. Note that the sink name does not need to be uniqueif repeated calls are made with the same name, separate sinks with the same name are registered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>s</strong> – The sink to register. </p></li>
<li><p><strong>name</strong> – The name for the given sink.</p></li>
</ul>
</dd>
<dt class="field-even">Pre</dt>
<dd class="field-even"><p>The sink must be closed. </p>
</dd>
</dl>
</dd></dl>

<p><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger</span></code></a> is the main logger class. When constructed a
background thread will be created. The background thread is joined when the
logger and all of its sinks have been destructed.</p>
</div>
<div class="section" id="sink">
<span id="id3"></span><h2>Sink<a class="headerlink" href="#sink" title="Permalink to this headline">¶</a></h2>
<p>In order to write to the logger, an instance of <a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><code class="xref cpp cpp-class docutils literal notranslate"><span class="pre">xtr::logger::sink</span></code></a>
must must be created via a call to . Each
sink has its own queue which is used to communicate to the logger. Sink
operations are not thread safe—threads are instead expected to each use
one or more sinks which are local to the thread.</p>
<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6logger4sinkE">
<span id="_CPPv3N3xtr6logger4sinkE"></span><span id="_CPPv2N3xtr6logger4sinkE"></span><span id="xtr::logger::sink"></span><span class="target" id="classxtr_1_1logger_1_1sink"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sink</span></span></span><a class="headerlink" href="#_CPPv4N3xtr6logger4sinkE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6logger4sink5closeEv">
<span id="_CPPv3N3xtr6logger4sink5closeEv"></span><span id="_CPPv2N3xtr6logger4sink5closeEv"></span><span id="xtr::logger::sink::close"></span><span class="target" id="classxtr_1_1logger_1_1sink_1a38de339ad39383ce54d08ae9c4f3d221"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">close</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3xtr6logger4sink5closeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Closes the sink. After this function returns the sink is closed and <a class="reference internal" href="#classxtr_1_1logger_1_1sink_1a4ef24b8218fefbad2e53c0bb25a81bb1"><span class="std std-ref">log()</span></a> functions may not be called on the sink. The sink may be re-opened by calling <a class="reference internal" href="#classxtr_1_1logger_1ab9bff842b164da551857f6f5a2fb17bf"><span class="std std-ref">logger::register_sink</span></a>. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6logger4sink4syncEv">
<span id="_CPPv3N3xtr6logger4sink4syncEv"></span><span id="_CPPv2N3xtr6logger4sink4syncEv"></span><span id="xtr::logger::sink::sync"></span><span class="target" id="classxtr_1_1logger_1_1sink_1abe2aae00c7a84d0e579dec423957debe"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">sync</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3xtr6logger4sink4syncEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Synchronizes all log calls previously made by this sink to back-end storage.</p>
<dl class="field-list simple">
<dt class="field-odd">Post</dt>
<dd class="field-odd"><p>All entries in the sink’s queue have been delivered to the back-end, and the flush() and <a class="reference internal" href="#classxtr_1_1logger_1_1sink_1abe2aae00c7a84d0e579dec423957debe"><span class="std std-ref">sync()</span></a> functions associated with the back-end have been called. For the default (disk) back-end this means fflush(3) and fsync(2) (if available) have been called. </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6logger4sink8set_nameENSt6stringE">
<span id="_CPPv3N3xtr6logger4sink8set_nameENSt6stringE"></span><span id="_CPPv2N3xtr6logger4sink8set_nameENSt6stringE"></span><span id="xtr::logger::sink::set_name__ss"></span><span class="target" id="classxtr_1_1logger_1_1sink_1a96c7efe7a5e6f29103792c89cf65aa99"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">set_name</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">string</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">name</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3xtr6logger4sink8set_nameENSt6stringE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets the producer name to the specified name. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I_Da0DpEN3xtr6logger4sink3logEvDpRR4Args">
<span id="_CPPv3I_Da0DpEN3xtr6logger4sink3logEDpRR4Args"></span><span id="_CPPv2I_Da0DpEN3xtr6logger4sink3logEDpRR4Args"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Format</span></span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Tags</span></span></span><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="sig-name descname"><span class="n"><span class="pre">Args</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="classxtr_1_1logger_1_1sink_1a4ef24b8218fefbad2e53c0bb25a81bb1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">log</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4I_Da0DpEN3xtr6logger4sink3logEvDpRR4Args" title="xtr::logger::sink::log::Args"><span class="n"><span class="pre">Args</span></span></a><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">&amp;</span></span><span class="p"><span class="pre">...</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">args</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">noexcept</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">(</span></span><span class="n"><span class="pre">XTR_NOTHROW_INGESTIBLE</span></span><span class="p"><span class="pre">(</span></span><a class="reference internal" href="#_CPPv4I_Da0DpEN3xtr6logger4sink3logEvDpRR4Args" title="xtr::logger::sink::log::Args"><span class="n"><span class="pre">Args</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I_Da0DpEN3xtr6logger4sink3logEvDpRR4Args" title="xtr::logger::sink::log::args"><span class="n"><span class="pre">args</span></span></a><span class="p"><span class="pre">)</span></span><span class="w"> </span><span class="o"><span class="pre">&amp;&amp;</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">)</span></span><a class="headerlink" href="#_CPPv4I_Da0DpEN3xtr6logger4sink3logEvDpRR4Args" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Logs the given format string and arguments. This function is not intended to be used directly, instead one of the XTR_LOG macros should be used. It is provided in case use of a macro is unacceptable.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>Format</strong> – </p></li>
<li><p><strong>Tags</strong> – </p></li>
<li><p><strong>args</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr6logger4sink9set_levelE11log_level_t">
<span id="_CPPv3N3xtr6logger4sink9set_levelE11log_level_t"></span><span id="_CPPv2N3xtr6logger4sink9set_levelE11log_level_t"></span><span id="xtr::logger::sink::set_level__log_level_t"></span><span class="target" id="classxtr_1_1logger_1_1sink_1adde1a2fbeafbbb3b67f64497c6123e10"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">set_level</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv4N3xtr11log_level_tE" title="xtr::log_level_t"><span class="n"><span class="pre">log_level_t</span></span></a><span class="w"> </span><span class="n sig-param"><span class="pre">l</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N3xtr6logger4sink9set_levelE11log_level_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets the log level of the sink to the specified level. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4NK3xtr6logger4sink5levelEv">
<span id="_CPPv3NK3xtr6logger4sink5levelEv"></span><span id="_CPPv2NK3xtr6logger4sink5levelEv"></span><span id="xtr::logger::sink::levelC"></span><span class="target" id="classxtr_1_1logger_1_1sink_1ae7f4c0ab8ce7e41b2a62996e57a66416"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4N3xtr11log_level_tE" title="xtr::log_level_t"><span class="n"><span class="pre">log_level_t</span></span></a><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6loggerE" title="xtr::logger"><span class="n"><span class="pre">logger</span></span></a><span class="p"><span class="pre">::</span></span><a class="reference internal" href="#_CPPv4N3xtr6logger4sinkE" title="xtr::logger::sink"><span class="n"><span class="pre">sink</span></span></a><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">level</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">const</span></span><a class="headerlink" href="#_CPPv4NK3xtr6logger4sink5levelEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Returns the current log level. </p>
</dd></dl>

</div>
<div class="section" id="misc">
<h2>Misc<a class="headerlink" href="#misc" title="Permalink to this headline">¶</a></h2>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4I0EN3xtr6nocopyEDaRK1T">
<span id="_CPPv3I0EN3xtr6nocopyERK1T"></span><span id="_CPPv2I0EN3xtr6nocopyERK1T"></span><span class="k"><span class="pre">template</span></span><span class="p"><span class="pre">&lt;</span></span><span class="k"><span class="pre">typename</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">T</span></span></span><span class="p"><span class="pre">&gt;</span></span><br /><span class="target" id="logger_8hpp_1a586a8fc82d54c0295630bd9cdacbb006"></span><span class="k"><span class="pre">inline</span></span><span class="w"> </span><span class="kt"><span class="pre">auto</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">nocopy</span></span></span><span class="sig-paren">(</span><span class="k"><span class="pre">const</span></span><span class="w"> </span><a class="reference internal" href="#_CPPv4I0EN3xtr6nocopyEDaRK1T" title="xtr::nocopy::T"><span class="n"><span class="pre">T</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">arg</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4I0EN3xtr6nocopyEDaRK1T" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr11log_level_tE">
<span id="_CPPv3N3xtr11log_level_tE"></span><span id="_CPPv2N3xtr11log_level_tE"></span><span class="target" id="log__level_8hpp_1afb0918f4447c35720ed0eb78fbd054b5"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-prename descclassname"><span class="n"><span class="pre">xtr</span></span><span class="p"><span class="pre">::</span></span></span><span class="sig-name descname"><span class="n"><span class="pre">log_level_t</span></span></span><a class="headerlink" href="#_CPPv4N3xtr11log_level_tE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr11log_level_t4noneE">
<span id="_CPPv3N3xtr11log_level_t4noneE"></span><span id="_CPPv2N3xtr11log_level_t4noneE"></span><span class="target" id="log__level_8hpp_1afb0918f4447c35720ed0eb78fbd054b5a334c4a4c42fdb79d7ebc3e73b517e6f8"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">none</span></span></span><a class="headerlink" href="#_CPPv4N3xtr11log_level_t4noneE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr11log_level_t5fatalE">
<span id="_CPPv3N3xtr11log_level_t5fatalE"></span><span id="_CPPv2N3xtr11log_level_t5fatalE"></span><span class="target" id="log__level_8hpp_1afb0918f4447c35720ed0eb78fbd054b5adf6402fd9ecc60f5a2159fdf45711cd4"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">fatal</span></span></span><a class="headerlink" href="#_CPPv4N3xtr11log_level_t5fatalE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr11log_level_t5errorE">
<span id="_CPPv3N3xtr11log_level_t5errorE"></span><span id="_CPPv2N3xtr11log_level_t5errorE"></span><span class="target" id="log__level_8hpp_1afb0918f4447c35720ed0eb78fbd054b5acb5e100e5a9a3e7f6d1fd97512215282"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">error</span></span></span><a class="headerlink" href="#_CPPv4N3xtr11log_level_t5errorE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr11log_level_t7warningE">
<span id="_CPPv3N3xtr11log_level_t7warningE"></span><span id="_CPPv2N3xtr11log_level_t7warningE"></span><span class="target" id="log__level_8hpp_1afb0918f4447c35720ed0eb78fbd054b5a7b83d3f08fa392b79e3f553b585971cd"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">warning</span></span></span><a class="headerlink" href="#_CPPv4N3xtr11log_level_t7warningE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr11log_level_t4infoE">
<span id="_CPPv3N3xtr11log_level_t4infoE"></span><span id="_CPPv2N3xtr11log_level_t4infoE"></span><span class="target" id="log__level_8hpp_1afb0918f4447c35720ed0eb78fbd054b5acaf9b6b99962bf5c2264824231d7a40c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">info</span></span></span><a class="headerlink" href="#_CPPv4N3xtr11log_level_t4infoE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N3xtr11log_level_t5debugE">
<span id="_CPPv3N3xtr11log_level_t5debugE"></span><span id="_CPPv2N3xtr11log_level_t5debugE"></span><span class="target" id="log__level_8hpp_1afb0918f4447c35720ed0eb78fbd054b5aad42f6697b035b7580e4fef93be20b4d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">debug</span></span></span><a class="headerlink" href="#_CPPv4N3xtr11log_level_t5debugE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="xtrctl">
<h1>xtrctl<a class="headerlink" href="#xtrctl" title="Permalink to this headline">¶</a></h1>
<div class="section" id="displaying-the-status-of-sinks">
<h2>Displaying the Status of Sinks<a class="headerlink" href="#displaying-the-status-of-sinks" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="setting-log-levels">
<h2>Setting Log Levels<a class="headerlink" href="#setting-log-levels" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="rotating-log-files">
<h2>Rotating Log Files<a class="headerlink" href="#rotating-log-files" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="log-record-layouts">
<h1>Log Record Layouts<a class="headerlink" href="#log-record-layouts" title="Permalink to this headline">¶</a></h1>
<p>This section is provided for illustration purposes only, it only describes
implementation details that some users may find it useful to know.</p>
</div>
<div class="section" id="index">
<h1>Index<a class="headerlink" href="#index" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
</ul>
<p class="rubric">Footnotes</p>
<dl class="footnote brackets">
<dt class="label" id="queue"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Specifically the queue is a single-producer/single-consumer ring buffer.</p>
</dd>
</dl>
<p>TALK ABOUT SINKS HAVING A LOG LEVEL, SAFETY</p>
<p>formatting</p>
<p>Sinks pass log messages to the logger
via individual queues which are read by a thread associated with the
logger (each logger object has its own thread).</p>
<p>. The logger has an associated thread which reads from
the</p>
<p>A logger has an
associated back-end, which is written to</p>
<p>Talk about how strings are copied into the log buffer, talk about safety.</p>
<p>Discuss logger and sinks?</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 75%" />
<col style="width: 25%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Type</p></th>
<th class="head"><p>Copied?</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>char*,</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>char[]</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>std::array&lt;char, N&gt;</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>std::string</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-even"><td><p>std::string_view</p></td>
<td><p>Yes</p></td>
</tr>
<tr class="row-odd"><td><p>std::reference_wrapper&lt;T&gt;</p></td>
<td><p>No</p></td>
</tr>
<tr class="row-even"><td><p>std::reference_wrapper&lt;T&gt;</p></td>
<td><p>No</p></td>
</tr>
</tbody>
</table>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>               <span class="o">+-----------------------+</span>
               <span class="o">|</span> <span class="n">function</span> <span class="n">pointer</span>      <span class="o">|---&gt;</span> <span class="n">invokerS</span><span class="p">()</span>
               <span class="o">+-----------------------+</span>
               <span class="o">|</span> <span class="n">record</span> <span class="n">total</span> <span class="n">size</span>     <span class="o">|</span>
               <span class="o">+-----------------------+</span>
               <span class="o">|</span> <span class="k">lambda</span><span class="p">:</span>               <span class="o">|</span>
         <span class="o">+-----/</span>    <span class="n">variable</span> <span class="n">size</span>      <span class="o">/</span>
<span class="n">pointers</span> <span class="o">|</span> <span class="o">+---/</span>    <span class="n">known</span> <span class="n">at</span> <span class="nb">compile</span>   <span class="o">/</span>
<span class="n">into</span>     <span class="o">|</span> <span class="o">|</span>   <span class="o">|</span>    <span class="n">time</span>               <span class="o">|</span>
<span class="n">string</span>   <span class="o">|</span> <span class="o">|</span>   <span class="o">+-----------------------+</span>
<span class="n">table</span>    <span class="o">|</span> <span class="o">|</span>   <span class="o">|</span> <span class="n">string</span> <span class="n">table</span><span class="p">:</span>         <span class="o">|</span>
         <span class="o">|</span> <span class="o">+-&gt;</span> <span class="o">/</span>   <span class="n">variable</span> <span class="n">size</span>       <span class="o">/</span>
         <span class="o">+---&gt;</span> <span class="o">/</span>   <span class="n">known</span> <span class="n">at</span> <span class="n">run</span> <span class="n">time</span>   <span class="o">/</span>
               <span class="o">|</span>                       <span class="o">|</span>
               <span class="o">+-----------------------+</span>
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Chris E. Holloway.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>